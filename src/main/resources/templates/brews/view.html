<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head th:replace="fragments :: head"></head>

<body>

    <nav th:replace="fragments :: page-header"></nav>

    <div class="container-fluid body-content">

        <div class="container-fluid">
            <div class="row justify-content-center p-3">
                <a th:href="@{/pubs/view/{pubId}/(pubId=${pub.id})}"><span class="h1" th:text="${pub.name}">Pub Name</span></a>
                <span class="h1" th:text="${' : ' + pub.address + ' ' + pub.city + ', ' + pub.state + ' ' + pub.areaCode}">Pub Address</span>
            </div>
        </div>


        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-4 mt-5">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th>Name : </th>
                                <td th:text="${brew.name}">Name</td>
                            </tr>
                            <tr>
                                <th>Style : </th>
                                <td th:text="${brew.style}">Style</td>
                            </tr>
                            <tr>
                                <th>IBU : </th>
                                <td th:text="${brew.ibu}">IBU</td>
                            </tr>
                            <tr>
                                <th>ABV : </th>
                                <td th:text="${brew.abv}">ABV</td>
                            </tr>
                            <tr>
                                <th>Brewer : </th>
                                <td th:text="${brew.brewer}">Brewer</td>
                            </tr>
                            <tr>
                                <th>Description : </th>
                                <td th:text="${brew.description}">Description</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="row justify-content-center">
                        <span sec:authorize="isAuthenticated()">
                            <th:block th:if="${!isFavorite}">
                                <a type="button" class="btn btn-primary" th:href="@{'/pubs/brews/addFavoriteBrew/{brewId}/'(brewId=${brew.id})}">Add Brew To Favorites</a>
                            </th:block>

                            <th:block th:if="${isFavorite}">
                                <a type="button" class="btn btn-primary" th:href="@{'/pubs/brews/removeFavoriteBrew/{brewId}/'(brewId=${brew.id})}">Remove Brew From Favorites</a>
                            </th:block>
                        </span>
                    </div>
                </div>

                <div class="col-sm-8">
                    <div class="row justify-content-center">
                        <span class="h3 m-2" th:text="${'Reviews of : ' + brew.name}">Reviews of Brew</span>
                        <span><a type="button" class="btn btn-primary p-1 m-2" th:href="@{/review/{pubId}/{brewId}/(pubId=${pub.id}, brewId=${brew.id})}">Review This Brew</a></span>
                    </div>

                    <div>
                        <table   class="table table-striped">
                            <thead>
                            <tr>
                                <th scope="col">Review ID</th>
                                <th scope="col">Brew ID</th>
                                <th scope="col">Review Title</th>
                                <th scope="col">Rating</th>
                                <th scope="col">Review</th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="review : ${reviews}">
                                <tr class="text-center">
                                    <td scope="row" th:text="${review.id}">ID</td>
                                    <td th:text="${review.brew.id}">BrewID</td>
                                    <th th:text="${review.reviewTitle}">Title</th>
                                    <td th:text="${review.rating}">Rating</td>
                                    <td th:text="${review.reviewText}">ReviewText</td>
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <footer th:replace="fragments :: page-footer"></footer>

</body>

</html>